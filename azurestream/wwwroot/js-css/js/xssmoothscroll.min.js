(function(n){n.extend({browserSelector:function(){var s=navigator.userAgent,i=s.toLowerCase(),t=function(n){return i.indexOf(n)>-1},r="gecko",u="webkit",e="safari",f="opera",h=document.documentElement,l=[!/opera|webtv/i.test(i)&&/msie\s(\d)/.test(i)?"ie ie"+parseFloat(navigator.appVersion.split("MSIE")[1]):t("firefox/2")?r+" ff2":t("firefox/3.5")?r+" ff3 ff3_5":t("firefox/3")?r+" ff3":t("gecko/")?r:t("opera")?f+(/version\/(\d+)/.test(i)?" "+f+RegExp.jQuery1:/opera(\s|\/)(\d+)/.test(i)?" "+f+RegExp.jQuery2:""):t("konqueror")?"konqueror":t("chrome")?u+" chrome":t("iron")?u+" iron":t("applewebkit/")?u+" "+e+(/version\/(\d+)/.test(i)?" "+e+RegExp.jQuery1:""):t("mozilla/")?r:"",t("j2me")?"mobile":t("iphone")?"iphone":t("ipod")?"ipod":t("mac")?"mac":t("darwin")?"mac":t("webtv")?"webtv":t("win")?"win":t("freebsd")?"freebsd":t("x11")||t("linux")?"linux":"","js"],o;if(c=l.join(" "),h.className+=" "+c,o=!window.ActiveXObject&&"ActiveXObject"in window,o){n("html").removeClass("gecko").addClass("ie ie11");return}}})})(jQuery),function(n){n.extend({smoothScroll:function(){function ot(){var t=!1,i,r;if(document.URL.indexOf("google.com/reader/view")>-1&&(t=!0),n.excluded)for(i=n.excluded.split(/[,\n] ?/),i.push("mail.google.com"),r=i.length;r--;)if(document.URL.indexOf(i[r])>-1){o&&o.disconnect();ut("mousewheel",tt);t=!0;b=!0;break}t&&ut("keydown",it);n.keyboardSupport&&!t&&s("keydown",it)}function g(){var u,s,a,h,c,l;if(document.body){var t=document.body,i=document.documentElement,r=window.innerHeight,v=t.scrollHeight;f=document.compatMode.indexOf("CSS")>=0?i:t;e=t;ot();d=!0;top!=self?k=!0:v>r&&(t.offsetHeight<=r||i.offsetHeight<=r)&&(u=!1,s=function(){u||i.scrollHeight==document.height||(u=!0,setTimeout(function(){i.style.height=document.height+"px";u=!1},500))},i.style.height="auto",setTimeout(s,10),a={attributes:!0,childList:!0,characterData:!1},o=new ft(s),o.observe(t,a),f.offsetHeight<=r&&(h=document.createElement("div"),h.style.clear="both",t.appendChild(h)));document.URL.indexOf("mail.google.com")>-1?(c=document.createElement("style"),c.innerHTML=".iu { visibility: hidden }",(document.getElementsByTagName("head")[0]||i).appendChild(c)):document.URL.indexOf("www.facebook.com")>-1&&(l=document.getElementById("home_stream"),l&&(l.style.webkitTransform="translateZ(0)"));n.fixedBackground||b||(t.style.backgroundAttachment="scroll",i.style.backgroundAttachment="scroll")}}function nt(t,i,u,f){var l,o,e,a,s;(f||(f=1e3),ht(i,u),n.accelerationMax!=1&&(l=+new Date,o=l-c,o<n.accelerationDelta&&(e=(1+30/o)/2,e>1&&(e=Math.min(e,n.accelerationMax),i*=e,u*=e)),c=+new Date),r.push({x:i,y:u,lastX:i<0?.99:-.99,lastY:u<0?.99:-.99,start:+new Date}),h)||(a=t===document.body,s=function(){for(var y,p,d=+new Date,c=0,l=0,o=0;o<r.length;o++){var e=r[o],b=d-e.start,k=b>=n.animationTime,v=k?1:b/n.animationTime;n.pulseAlgorithm&&(v=at(v));y=e.x*v-e.lastX>>0;p=e.y*v-e.lastY>>0;c+=y;l+=p;e.lastX+=y;e.lastY+=p;k&&(r.splice(o,1),o--)}a?window.scrollBy(c,l):(c&&(t.scrollLeft+=c),l&&(t.scrollTop+=l));i||u||(r=[]);r.length?w(s,t,f/n.frameRate+1):h=!1},w(s,t,0),h=!0)}function tt(t){var u,f,r,i;if((d||g(),u=t.target,f=rt(u),!f||t.defaultPrevented||y(e,"embed")||y(u,"embed")&&/\.pdf/i.test(u.src))||(r=t.wheelDeltaX||0,i=t.wheelDeltaY||0,r||i||(i=t.wheelDelta||0),!n.touchpadSupport&&lt(i)))return!0;Math.abs(r)>1.2&&(r*=n.stepSize/120);Math.abs(i)>1.2&&(i*=n.stepSize/120);nt(f,-r,-i);t.preventDefault()}function it(i){var o=i.target,l=i.ctrlKey||i.altKey||i.metaKey||i.shiftKey&&i.keyCode!==t.spacebar,h;if(/input|textarea|select|embed/i.test(o.nodeName)||o.isContentEditable||i.defaultPrevented||l||y(o,"button")&&i.keyCode===t.spacebar)return!0;var c,s=0,r=0,u=rt(e),f=u.clientHeight;u==document.body&&(f=window.innerHeight);switch(i.keyCode){case t.up:r=-n.arrowScroll;break;case t.down:r=n.arrowScroll;break;case t.spacebar:c=i.shiftKey?1:-1;r=-c*f*.9;break;case t.pageup:r=-f*.9;break;case t.pagedown:r=f*.9;break;case t.home:r=-u.scrollTop;break;case t.end:h=u.scrollHeight-u.scrollTop-f;r=h>0?h+10:0;break;case t.left:s=-n.arrowScroll;break;case t.right:s=n.arrowScroll;break;default:return!0}nt(u,s,r);i.preventDefault()}function st(n){e=n.target}function v(n,t){for(var i=n.length;i--;)l[a(n[i])]=t;return t}function rt(n){var t=[],r=f.scrollHeight,i;do{if(i=l[a(n)],i)return v(t,i);if(t.push(n),r===n.scrollHeight){if(!k||f.clientHeight+10<r)return v(t,document.body)}else if(n.clientHeight+10<n.scrollHeight&&(overflow=getComputedStyle(n,"").getPropertyValue("overflow-y"),overflow==="scroll"||overflow==="auto"))return v(t,n)}while(n=n.parentNode)}function s(n,t,i){window.addEventListener(n,t,i||!1)}function ut(n,t,i){window.removeEventListener(n,t,i||!1)}function y(n,t){return(n.nodeName||"").toLowerCase()===t.toLowerCase()}function ht(n,t){n=n>0?1:-1;t=t>0?1:-1;(u.x!==n||u.y!==t)&&(u.x=n,u.y=t,r=[],c=0)}function lt(n){if(n){n=Math.abs(n);i.push(n);i.shift();clearTimeout(ct);var t=i[0]==i[1]&&i[1]==i[2],r=p(i[0],120)&&p(i[1],120)&&p(i[2],120);return!(t||r)}}function p(n,t){return Math.floor(n/t)==n/t}function et(t){var i,r,u;return t=t*n.pulseScale,t<1?i=t-(1-Math.exp(-t)):(r=Math.exp(-1),t-=1,u=1-Math.exp(-t),i=r+u*(1-r)),i*n.pulseNormalize}function at(t){return t>=1?1:t<=0?0:(n.pulseNormalize==1&&(n.pulseNormalize/=et(1)),et(t))}var n={frameRate:60,animationTime:700,stepSize:120,pulseAlgorithm:!0,pulseScale:10,pulseNormalize:1,accelerationDelta:20,accelerationMax:1,keyboardSupport:!0,arrowScroll:50,touchpadSupport:!0,fixedBackground:!0,excluded:""},b=!1,k=!1,u={x:0,y:0},d=!1,f=document.documentElement,e,o,i=[120,120,120],t={left:37,up:38,right:39,down:40,spacebar:32,pageup:33,pagedown:34,end:35,home:36},r=[],h=!1,c=+new Date,l={},a,ct,w,ft;setInterval(function(){l={}},1e4);a=function(){var n=0;return function(t){return t.uniqueID||(t.uniqueID=n++)}}();w=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(n,t,i){window.setTimeout(n,i||1e3/60)}}();ft=window.MutationObserver||window.WebKitMutationObserver;s("mousedown",st);s("mousewheel",tt);s("load",g)}})}(jQuery);